<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	<title>Greg's Gambits | Unbreakable Secret Message Encoder</title>
	<link href="greg.css" rel="stylesheet" type="text/css" />
<script type="text/javascript">
function encodeit()
    {
        document.getElementById("message").innerHTML  = ("<h2>&nbsp;</h2>");
    var msg = prompt("Enter your message.", " ");
        var newmsg = " ";
        var keynums = " ";
    
    
    
    
    var newCode = 0;
    
    
		 //initialize variables
		 
		 //the loop encodes each letter in the message string
		 for (var j = 0; j < msg.length; j++)
             {
                 rannum = (Math.floor(Math.random() * 26)) + 1;
                  //check for upppercase letters and encode them
			 if ((msg.charCodeAt(j)>=65) && (msg.charCodeAt(j)<=90))
                 
                 {
                     newCode = (msg.charCodeAt(j) - rannum);
                     if (newCode < 65 )
                         {
                             newCode += 26;
                         }
                     
                 }
                 
                 //check for lowercase letters and encode them
				 if ((msg.charCodeAt(j) >= 97) && (msg.charCodeAt(j)<=122))
                     {
                       newCode = (msg.charCodeAt(j) + rannum);  
                         if (newCode > 122)
                             {
                                 newCode -= 26
                             }
                         
                     }
                 
                 //check for numbers and special characters and encode them
					if (((msg.charCodeAt(j)> 90) && (msg.charCodeAt(j)< 97)) || ((msg.charCodeAt(j)< 65) && (msg.charCodeAt(j) > 31)))
                     {
                         newCode = (msg.charCodeAt(j) + rannum);
                         while (((msg.charCodeAt(j)> 91) && (msg.charCodeAt(j)< 97)) || ((msg.charCodeAt(j)< 65) && (msg.charCodeAt(j) > 32)))
                             {
                                 newCode -= 1
                             }
                         
                     }
                 
                 //add each encoded character to the new message
			 newmsg = newmsg + " " + String.fromCharCode(newCode);
            keynums = keynums + " " + rannum;
                 
             }
         
		 //display the encoded message on the web page
    document.getElementById("secret").innerHTML = ("<h2>" + newmsg + "</h2>");	 
    
		 //decide if original message should be shown
    var choice = prompt("Do you want the original message displayed, alongside the key used to encrypt it? Yes or No?", " ");
    
    if ((choice.charAt(0) == 'y') || (choice.charAt(0) == 'Y'))
        {
            document.getElementById("message").innerHTML =
                ("<h2>" + msg + "</h2>");
            document.getElementById("key").innerHTML =
                ("<h2>" + keynums + "</h2>");
        }
    }

 		 
    
		 

</script>
</head>

<body>
<div id="container">
 <img src="images/superhero.jpg" width="120" height="120" class="floatleft" />
 <h1 id="logo"><em>Unbreakable Secret Message Encoder</em></h1>
    
 <p>&nbsp;</p>
<div id="nav">
  <p><a href="index.html">Home</a>
  <a href="greg.html">About Greg</a>
  <a href="play_games.html">Play a Game</a>
  <a href="sign.html">Sign In</a>
  <a href="contact.html">Contact Us</a></p>
</div>
<div id="content">
    <h2>Write A Message and Encode It</h1>
   
<p> <input type="button" id="encode" value="Enter your message" onclick="encodeit();" /></p>
  <table cellpadding="2" width = "90%" align = "center" border="1">
    <tr> <td align="center" id="secret"><p>encoded message</p></td> </tr> 
	<tr> <td align="center" id="message">&nbsp;</td> </tr>
    <tr> <td align="center" id="key">&nbsp;</td> </tr> </table>
</div>
<div id="footer">Copyright &copy; 2013 Greg's Gambits<br />
<a href="mailto:yourfirstname@yourlastname.com">yourfirstname@yourlastname.com</a>
</div>
</div>
</body>
</html>
